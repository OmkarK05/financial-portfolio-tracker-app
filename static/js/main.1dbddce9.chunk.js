(this["webpackJsonpfinancial-portfolio-tracker-app"]=this["webpackJsonpfinancial-portfolio-tracker-app"]||[]).push([[0],{35:function(e,t,a){e.exports=a(72)},40:function(e,t,a){},42:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(14),s=a.n(c),r=(a(40),a(2)),l=a.n(r),i=a(8),m=a(10),u=a(3),d=a(4),k=a(6),p=a(5),f=(a(42),a(15)),h=a.n(f),b=a(34),y=function(e){Object(k.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"AddStocksTitle"},o.a.createElement("h5",{className:"add"},"Add stock to tracking"),o.a.createElement("ul",null,this.props.stockNames.map((function(t,a){return o.a.createElement("li",{key:a},o.a.createElement("button",{className:"StockButton",onClick:function(){e.props.clickEvent(t)}},t.symbol),o.a.createElement("span",null,t.name))}))))}}]),a}(n.Component),E=a(7),S=a.n(E),v=(a(12),function(e){Object(k.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getData=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.database().ref("TrackingStocks/").on("value",(function(e){e&&e.exists()&&n.databaseData(e.val())}));case 2:case"end":return e.stop()}}),e)}))),n.databaseData=function(e){n.props.trackingStockRemoveBtn(e),n.setState({tableData:e})},n.removeTrackingStock=function(e){S.a.database().ref("/TrackingStocks/".concat(e)).remove().then((function(){return console.log("successfully Deleted")})).catch((function(e){return console.log("error")})),console.log(n.state.tableData),1===Object.entries(n.state.tableData).length&&n.setState({tableData:0})},n.state={tableData:0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"head"},o.a.createElement("h2",null,"Finance Porfolio Tracker")),o.a.createElement("div",{className:"tableSection"},o.a.createElement("div",{className:"MyStocks"},o.a.createElement("h4",null,o.a.createElement("strong",null,"My Stocks"))),o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement("table",{className:"striped"},o.a.createElement("tr",null,o.a.createElement("th",null,"Stock Symbol"),o.a.createElement("th",null,"Stock Name"),o.a.createElement("th",null,"No. of Shares"),o.a.createElement("th",null,"Buy Price"),o.a.createElement("th",null,"Current Price"),o.a.createElement("th",null,"Profit/",o.a.createElement("br",null),"Loss"),o.a.createElement("th",null,"Stop Tracking")),Object.entries(this.state.tableData).map((function(t){var a=Object(m.a)(t,2),n=a[0],c=a[1];return o.a.createElement("tr",{key:n},o.a.createElement("td",null,c.symbol),o.a.createElement("td",null,c.name),o.a.createElement("td",null,c.noOfShares),o.a.createElement("td",null,c.buyPrice),o.a.createElement("td",null,c.currentPrice),o.a.createElement("td",null,((c.currentPrice-c.buyPrice)*c.noOfShares).toFixed(2)),o.a.createElement("td",null,o.a.createElement("button",{className:"StopTrackingBtn waves-effect waves-light btn",onClick:function(){e.removeTrackingStock(n),e.props.addstockButton(c)}},"Stop Tracking")))}))))))}}]),a}(n.Component)),g=a(16),O=a.n(g),N=function(e){Object(k.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setPrice=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.database().ref("TrackingStocks/"+n.props.id).set({currentPrice:n.state.stockValue}),console.log(n.state.stockValue);case 2:case"end":return e.stop()}}),e)}))),n.state={query:n.props.apiQuery,stockValue:{}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=".concat(this.state.query,"&apikey=289IDFVBTBBRIPUN")).then((function(t){var a=t.data["Time Series (Daily)"],n=Object.entries(a)[0];e.setState({stockValue:n[1]["4. close"]}),e.setPrice(),console.log(e.state.stockValue)})).catch((function(e){return alert("Failed fetching Api")}))}},{key:"render",value:function(){return o.a.createElement("div",null)}}]),a}(n.Component);S.a.initializeApp({apiKey:"AIzaSyCqoPyKdSOhTCNlp1tzFxyD2RlrvNlTE9A",authDomain:"finance-portfolio-tracke-4a485.firebaseapp.com",databaseURL:"https://finance-portfolio-tracke-4a485.firebaseio.com",projectId:"finance-portfolio-tracke-4a485",storageBucket:"finance-portfolio-tracke-4a485.appspot.com",messagingSenderId:"737224908325",appId:"1:737224908325:web:41f3095fa6ba10812069cc",measurementId:"G-S5W0TMZZET"}),O.a.setAppElement("#root");var D=function(e){Object(k.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addToTrackStock=function(e){console.log(e),n.state.trackingStocks.push(e.id),n.setState({stocks:n.state.stocks.filter((function(t){return t.symbol!==e}))})},n.removeBtn=function(e){console.log(e),Object.entries(e).map((function(e){var t=Object(m.a)(e,2),a=(t[0],t[1]);n.setState({stocks:n.state.stocks.filter((function(e){return e.symbol!==a.symbol}))})}))},n.fAddStockButton=function(e){console.log(e),e.buyPrice&&n.state.stocks.push({symbol:e.symbol,name:e.name,id:e.stockID}),n.setState({stocks:n.state.stocks})},n.handleCLick=function(e){n.setState({stockSymbol:e.symbol}),n.setState({stockName:e.name}),n.setState({stockID:e.id}),n.setState({isModalOpen:!n.state.isModalOpen})},n.handleModal=function(){0===Object.keys(n.state.buyPrice).length||0===Object.keys(n.state.NoOfShares).length||0===Object.keys(n.state.buyDate).length?alert("Please enter values"):(n.setState({isModalOpen:!n.state.isModalOpen}),n.setDatabase(),n.addToTrackStock(n.state.stockSymbol))},n.setDatabase=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{S.a.database().ref("TrackingStocks/"+n.state.stockID).update({symbol:n.state.stockSymbol,name:n.state.stockName,noOfShares:n.state.NoOfShares,buyPrice:n.state.buyPrice,stockId:n.state.stockID})}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)}))),n.handleCloseModal=function(){return n.setState({isModalOpen:!1})},n.state={trackingStocks:[],stocks:[{symbol:"MSFT",name:"Microsoft Corporation",id:0},{symbol:"DIS",name:"Walt Disney Co ",id:1},{symbol:"BA",name:"Boeing Co",id:2},{symbol:"HD",name:"Home Depot Inc",id:3},{symbol:"NKE",name:"NIKE INC",id:4},{symbol:"MCD",name:"Mcdonald's Corp",id:5},{symbol:"INTC",name:"Intel Corporation",id:6},{symbol:"GS",name:"Goldman Sachs Group Inc",id:7},{symbol:"JPM",name:"JPMorgan Chase & Co.",id:8},{symbol:"AXP",name:"American Express Company",id:9},{symbol:"IBM",name:"IBM Common Stock",id:10}],isModalOpen:!1,stockSymbol:" ",stockName:" ",NoOfShares:" ",buyPrice:" ",currentPrice:"",profitLoss:" ",buyDate:{},stockID:{}},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(v,{addstockButton:this.fAddStockButton,trackingStockRemoveBtn:this.removeBtn}),o.a.createElement(y,{stockNames:this.state.stocks,clickEvent:this.handleCLick}),o.a.createElement(O.a,{isOpen:this.state.isModalOpen},o.a.createElement(b.a,{size:30,style:{float:"right"},onClick:this.handleCloseModal}),o.a.createElement("div",{className:"AddStockForm"},o.a.createElement("h2",{className:"formHead"},"Add ".concat(this.state.stockName," to my stocks")),o.a.createElement("section",{className:"formContainer"},o.a.createElement("div",{className:"formEle"},o.a.createElement("h5",null,"Company Name"),o.a.createElement("span",{style:{position:"relative",right:"0px"}},this.state.stockName)),o.a.createElement("div",{className:"formEle"},o.a.createElement("h5",null,"No. of Shares"),o.a.createElement("input",{type:"number",id:"noShares",placeholder:"No. of shares",onChange:function(t){e.setState({NoOfShares:t.target.value})}})),o.a.createElement("div",{className:"formEle"},o.a.createElement("h5",null,"Buy Price"),o.a.createElement("input",{type:"number",id:"buyPrice",placeholder:"Buy Price",onChange:function(t){e.setState({buyPrice:t.target.value})}})),o.a.createElement("div",{className:"formEle"},o.a.createElement("h5",null,"Buy Date"),o.a.createElement("input",{type:"date",id:"buyDate",placeholder:"YYYY-MM-DD",onChange:function(t){e.setState({buyDate:t.target.value})}})),o.a.createElement("div",{className:" btn"},o.a.createElement("button",{className:"AddButton",onClick:this.handleModal},"Add"),o.a.createElement(N,{apiQuery:this.state.stockSymbol,id:this.state.stockID}))))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.1dbddce9.chunk.js.map